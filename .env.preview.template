# .env.preview.template
# Vercel Preview (pre) environment configuration template
#
# Usage:
# - Local: copy to `.env.preview` and load it yourself (Next.js does not auto-load `.env.preview`)
# - Vercel: add these as Environment Variables with Environment = Preview
#
# Preview isolation strategy:
# - Postgres: same DB instance, different schema (Prisma uses `?schema=...`)
# - Redis: same Redis instance, different logical DB index (use `REDIS_DB`)

# --- Database Configuration (Postgres + Prisma schema) ---
# Use a different schema from production, e.g. `pre_meteordb` or `db1`
DATABASE_URL="postgresql://USER:PASSWORD@HOST:5432/meteordb?schema=pre_meteordb"

# Optional: direct connection (used by Prisma for some operations/migrations)
DIRECT_URL="postgresql://USER:PASSWORD@HOST:5432/meteordb?schema=pre_meteordb"

# --- Redis Cache (same instance, different DB index) ---
REDIS_HOST=HOST
REDIS_PORT=6379
REDIS_PASSWORD=PASSWORD
REDIS_USERNAME=default
REDIS_DB=1
# Optional: set full URL directly (include `/1` if you want DB=1)
# REDIS_URL="redis://default:PASSWORD@HOST:6379/1"

# --- NextAuth.js Configuration ---
# Tip: for Preview deployments you can often omit NEXTAUTH_URL in Vercel,
# and let NextAuth infer it from the request host.
# If you set it, use your Preview domain or the Vercel preview URL.
NEXTAUTH_URL="https://YOUR_PREVIEW_DOMAIN"
NEXTAUTH_SECRET="your-nextauth-secret"

# --- Supabase Configuration (public) ---
NEXT_PUBLIC_SUPABASE_URL="https://YOUR_PROJECT.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-supabase-anon-key"

# --- Email Service Configuration ---
RESEND_API_KEY="your-resend-api-key"

# --- AWS S3 Configuration ---
AWS_ACCESS_KEY_ID="your-aws-access-key-id"
AWS_SECRET_ACCESS_KEY="your-aws-secret-access-key"
AWS_REGION="ap-northeast-2"
AWS_S3_BUCKET_NAME="your-bucket-name"
AWS_CLOUDFRONT_DOMAIN="https://your-cloudfront-domain"
